import{y as p}from"./chunk-ZHM6GPKY.js";import{P as o,U as l,ma as c}from"./chunk-US6TMWZY.js";import{a as i,b as a}from"./chunk-RW4GY4BD.js";var g=(()=>{let r=class r{constructor(e){this.globalService=e,this.users=c([]);let t=localStorage.getItem("users");t?this.users.set(JSON.parse(t)):this.users.set([])}addUser(e){let t={id:this.globalService.generateUniqueId(),name:e,isSpay:!1,word:""};this.users.update(s=>[...s,t])}deleteUser(e){this.users.update(t=>t.filter(s=>s.id!==e))}assignSpy(){this.users.update(e=>{if(e.length>0){if(this.globalService.settings.moreSpy)return e.map(t=>a(i({},t),{isSpay:Math.random()>.5}));{let t=Math.floor(Math.random()*e.length);return e.map((s,d)=>d===t?a(i({},s),{isSpay:!0}):a(i({},s),{isSpay:!1}))}}return e})}};r.\u0275fac=function(t){return new(t||r)(l(p))},r.\u0275prov=o({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();export{g as a};

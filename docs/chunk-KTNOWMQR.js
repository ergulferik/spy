import{y as h}from"./chunk-ZHM6GPKY.js";import{P as n,U as l,ma as c}from"./chunk-US6TMWZY.js";import{a as r,b as o}from"./chunk-RW4GY4BD.js";var S=(()=>{let s=class s{constructor(e){this.globalService=e,this.users=c([]);let t=localStorage.getItem("users");t?this.users.set(JSON.parse(t)):this.users.set([])}addUser(e){let t={id:this.globalService.generateUniqueId(),name:e,isSpay:!1,word:""};this.users.update(i=>[...i,t])}deleteUser(e){this.users.update(t=>t.filter(i=>i.id!==e))}assignSpy(){this.users.update(e=>{if(e.length>0){let t=1;this.globalService.settings.moreSpy&&(t=Math.max(1,Math.floor(Math.random()*(e.length/2))));let i=new Set;for(;i.size<t;)i.add(Math.floor(Math.random()*e.length));return e.map((d,p)=>o(r({},d),{isSpay:i.has(p)}))}return e})}};s.\u0275fac=function(t){return new(t||s)(l(h))},s.\u0275prov=n({token:s,factory:s.\u0275fac,providedIn:"root"});let a=s;return a})();export{S as a};
